{"version":3,"sources":["cart.js"],"names":[],"mappings":"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","file":"cart-compiled.js","sourcesContent":["var vm = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        totalMoney: 0,\r\n        productList: [],\r\n        checkAllFlag:false,\r\n        delFlag: false,\r\n        curProduct:''\r\n    },\r\n    mounted: function () {\r\n        this.$nextTick(function () {\r\n            this.cartView();\r\n        })\r\n    },\r\n    //局部过滤器\r\n    filters: {\r\n        formatMoney (value) {\r\n            \"use strict\";\r\n            return '￥' + value.toFixed(2);//toFixed有精度缺失（四舍五入），所以价格一般有后台传入\r\n        }\r\n    },\r\n    methods: {\r\n        // 渲染页面\r\n        cartView () {\r\n            \"use strict\";\r\n            this.$http.get('data/cartData.json').then(response => {\r\n                this.productList = response.data.result.list;\r\n            }, response => {\r\n\r\n            })\r\n        },\r\n        // 通过+、-改变商品数量从而改变总额\r\n        changeMoney (product, number) {\r\n            \"use strict\";\r\n            if (number > 0) {\r\n                product.productQuantity++;\r\n            }else {\r\n                product.productQuantity--;\r\n                if (product.productQuantity < 1) {\r\n                    product.productQuantity = 1;\r\n                }\r\n            }\r\n            this.calcTotalPrice();\r\n        },\r\n        // 计算总金额--如果商品被选中，总金额+=商品价格*商品数量\r\n        calcTotalPrice () {\r\n            \"use strict\";\r\n            var _this = this;\r\n            this.totalMoney = 0;\r\n            this.productList.forEach(function (item, index) {\r\n                if (item.checked) {\r\n                    _this.totalMoney += item.productPrice * item.productQuantity;\r\n                }\r\n            })\r\n        },\r\n        // 判断是选中了按钮\r\n        selectedProduct (item) {\r\n            \"use strict\";\r\n            //判断是否未定义，如果没点击过按钮是没有注册的，则需要先注册checked属性\r\n            if ( typeof item.checked == 'undefined') {\r\n                // Vue.set(item, 'checked', true);//全局注册\r\n                this.$set(item, 'checked', true);//局部注册\r\n            } else {\r\n                item.checked = !item.checked;\r\n            }\r\n            this.calcTotalPrice();\r\n        },\r\n        // 全选与取消全选，点击全选时flag为true,取消时为false\r\n        checkAll () {\r\n            \"use strict\";\r\n            var _this = this;\r\n            this.productList.forEach(function (item, index) {\r\n                if (!_this.checkAllFlag) {\r\n                    _this.$set(item, 'checked', 'true')\r\n                } else {\r\n                    if (typeof item.checked == 'undefined') {\r\n                        _this.$set(item, 'checked', true);\r\n                    } else {\r\n                        item.checked = !item.checked\r\n                    }\r\n                }\r\n            });\r\n            _this.checkAllFlag = !_this.checkAllFlag;\r\n            this.calcTotalPrice();\r\n        },\r\n        //弹出提示框，提示是否删除商品\r\n        delConfirm (item) {\r\n            \"use strict\";\r\n            this.delFlag = true;\r\n            this.curProduct = item;\r\n        },\r\n        //点击确认删除商品\r\n        delProduct () {\r\n            \"use strict\";\r\n            var index = this.productList.indexOf(this.curProduct);\r\n            this.productList.splice(index, 1);\r\n            this.delFlag = false;\r\n        }\r\n    }\r\n});"]}